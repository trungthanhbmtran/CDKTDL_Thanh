{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport { Send_Post_RestAPI } from '../../Request/imw_request';\nimport { setCookie } from '../../Cookies/Cookies';\nconst ThemeContext = React.createContext('light');\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let input = {\n      \"username\": this.state.username\n    };\n    let res = await Send_Post_RestAPI('http://localhost:3002/logintest', this.state.username);\n    let data = await res.json();\n    console.log(data.token);\n\n    if (data.token === undefined || data.token === null) {\n      alert('Error');\n      Router.push('/login');\n    } else {\n      document.cookie = `name=${data.token}; path=/`;\n      alert(`login success with ${this.state.username} `);\n      Router.push('/');\n    } //console.log(data)\n    // let {UserName,Pass,User_ID} = data[0];\n\n    /*\n    console.log(UserName) \n      console.log(Pass)\n      console.log(typeof this.state.username);\n      console.log(typeof UserName);\n      console.log(typeof Pass);\n      console.log(UserName.length)\n      console.log(this.state.username.length)\n    */\n\n    /*if( this.state.username === UserName.replace(/\\s/g,'') && this.state.password === Pass.replace(/\\s/g,'')){\n     setCookie(`${this.state.username}`,\"expires=Thu\",\"01 Jan 1970 00:00:00 UTC\")\n      Router.push('/')\n    }else{\n      Router.push('/login')\n    }*/\n\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"limiter\"\n    }, __jsx(\"div\", {\n      className: \"container-login100 page-background\"\n    }, __jsx(\"div\", {\n      className: \"wrap-login100\"\n    }, __jsx(\"form\", {\n      name: \"submitlogin\",\n      className: \"login100-form validate-form\",\n      onSubmit: this.handleSubmit\n    }, __jsx(\"span\", {\n      className: \"login100-form-logo\"\n    }, __jsx(\"img\", {\n      alt: \"\",\n      src: \"../assets/img/logo-2.png\"\n    })), __jsx(\"span\", {\n      className: \"login100-form-title p-b-34 p-t-27\"\n    }, \"Log in\"), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter username\"\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF207\"\n    })), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter password\"\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF191\"\n    })), __jsx(\"div\", {\n      className: \"contact100-form-checkbox\"\n    }, __jsx(\"input\", {\n      className: \"input-checkbox100\",\n      id: \"ckb1\",\n      type: \"checkbox\",\n      name: \"remember-me\"\n    }), __jsx(\"label\", {\n      className: \"label-checkbox100\",\n      htmlFor: \"ckb1\"\n    }, \"Remember me\")), __jsx(\"div\", {\n      className: \"container-login100-form-btn\"\n    }, __jsx(\"button\", {\n      className: \"login100-form-btn\"\n    }, \"Login\"), __jsx(\"a\", {\n      className: \"login100-form-btn\",\n      href: \"/auth/google\"\n    }, \"Google\"), __jsx(\"a\", {\n      className: \"login100-form-btn\",\n      href: \"/auth/facebook\"\n    }, \"Facebook\")), __jsx(\"div\", {\n      className: \"text-center p-t-30\"\n    }, __jsx(\"a\", {\n      className: \"txt1\",\n      href: \"forgot_password.html\"\n    }, \"Forgot Password?\"))))));\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["D:/Thanh/BackUpCDKTDL_Final/CDKTDL/backendnext/components/Login/LoginComponent.js"],"names":["React","useState","Router","Send_Post_RestAPI","setCookie","ThemeContext","createContext","LoginComponent","Component","constructor","props","state","username","password","handleChange","bind","handleSubmit","event","setState","target","name","value","preventDefault","input","res","data","json","console","log","token","undefined","alert","push","document","cookie","render"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Router from 'next/router';\nimport {Send_Post_RestAPI} from '../../Request/imw_request';\nimport {setCookie} from '../../Cookies/Cookies'\nconst ThemeContext = React.createContext('light');\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: \"\", password: \"\"};\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n   handleChange(event) {\n    this.setState({\n        [event.target.name]: event.target.value,\n      });\n}\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let input ={\"username\" : this.state.username}\n     let res = await Send_Post_RestAPI('http://localhost:3002/logintest',this.state.username)\n     let data = await res.json();\n     console.log(data.token)\n     if(data.token === undefined || data.token === null){\n        alert('Error')\n        Router.push('/login')\n     }\n     else {\n      document.cookie = `name=${data.token}; path=/`;\n      alert(`login success with ${this.state.username} `)\n        Router.push('/')\n     }\n     //console.log(data)\n     // let {UserName,Pass,User_ID} = data[0];\n        /*\n        console.log(UserName) \n          console.log(Pass)\n          console.log(typeof this.state.username);\n          console.log(typeof UserName);\n          console.log(typeof Pass);\n          console.log(UserName.length)\n          console.log(this.state.username.length)\n        */\n     /*if( this.state.username === UserName.replace(/\\s/g,'') && this.state.password === Pass.replace(/\\s/g,'')){\n      setCookie(`${this.state.username}`,\"expires=Thu\",\"01 Jan 1970 00:00:00 UTC\")\n       Router.push('/')\n     }else{\n       Router.push('/login')\n     }*/\n  }\n  render() {\n    return (\n      <div className=\"limiter\">\n      <div className=\"container-login100 page-background\">\n        <div className=\"wrap-login100\">\n          <form name=\"submitlogin\" className=\"login100-form validate-form\" onSubmit={this.handleSubmit}>\n            <span className=\"login100-form-logo\">\n              <img alt=\"\" src=\"../assets/img/logo-2.png\" />\n            </span>\n            <span className=\"login100-form-title p-b-34 p-t-27\">\n              Log in\n            </span>\n            <div className=\"wrap-input100 validate-input\" data-validate=\"Enter username\">\n              <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Username\" value={this.state.username}\n              onChange={this.handleChange} required/>\n              <span className=\"focus-input100\" data-placeholder=\"\" />\n            </div>\n            <div className=\"wrap-input100 validate-input\" data-validate=\"Enter password\" >\n              <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password}\n              onChange={this.handleChange} required/>\n              <span className=\"focus-input100\" data-placeholder=\"\" />\n            </div>\n            <div className=\"contact100-form-checkbox\">\n              <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n              <label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n                Remember me\n              </label>\n            </div>\n            <div className=\"container-login100-form-btn\">\n              <button className=\"login100-form-btn\" >\n                Login\n              </button>\n              <a className=\"login100-form-btn\"  href=\"/auth/google\">Google</a>\n              <a className=\"login100-form-btn\"  href=\"/auth/facebook\">Facebook</a>\n            </div>\n            <div className=\"text-center p-t-30\">\n              <a className=\"txt1\" href=\"forgot_password.html\">\n                Forgot Password?\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    )\n  }\n}\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}