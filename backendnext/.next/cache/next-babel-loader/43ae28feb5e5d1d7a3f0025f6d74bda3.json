{"ast":null,"code":"var _jsxFileName = \"D:\\\\Thanh\\\\backup\\\\CDKTDL\\\\CDKTDL\\\\backendnext\\\\components\\\\Login\\\\LoginComponent.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport { Send_Post_RestAPI } from '../../Request/imw_request';\nimport { setCookie } from '../../Cookies/Cookies';\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let {\n      username\n    } = this.state;\n    console.log(username);\n    let res = await Send_Post_RestAPI('http://localhost:3001/login', username);\n    let data = await res.json();\n    console.log(data);\n    let {\n      UserName,\n      Pass,\n      User_ID\n    } = data[0];\n    console.log(UserName);\n    console.log(Pass);\n    console.log(typeof this.state.username);\n    console.log(typeof UserName);\n    console.log(typeof Pass);\n    console.log(UserName.length);\n    console.log(this.state.username.length);\n\n    if (this.state.username === UserName.replace(/\\s/g, '') && this.state.password === Pass.replace(/\\s/g, '')) {\n      setCookie(\"thanh\", \"expires=Thu\", \"01 Jan 1970 00:00:00 UTC\");\n      Router.push('/');\n    } else {\n      Router.push('/login');\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"limiter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"container-login100 page-background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"wrap-login100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, __jsx(\"form\", {\n      className: \"login100-form validate-form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, __jsx(\"span\", {\n      className: \"login100-form-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      alt: \"\",\n      src: \"../assets/img/logo-2.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    })), __jsx(\"span\", {\n      className: \"login100-form-title p-b-34 p-t-27\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"Log in\"), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF207\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    })), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF191\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    })), __jsx(\"div\", {\n      className: \"contact100-form-checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, __jsx(\"input\", {\n      className: \"input-checkbox100\",\n      id: \"ckb1\",\n      type: \"checkbox\",\n      name: \"remember-me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }), __jsx(\"label\", {\n      className: \"label-checkbox100\",\n      htmlFor: \"ckb1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, \"Remember me\")), __jsx(\"div\", {\n      className: \"container-login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, __jsx(\"button\", {\n      className: \"login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Login\")), __jsx(\"div\", {\n      className: \"text-center p-t-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, __jsx(\"a\", {\n      className: \"txt1\",\n      href: \"forgot_password.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, \"Forgot Password?\"))))));\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["D:/Thanh/backup/CDKTDL/CDKTDL/backendnext/components/Login/LoginComponent.js"],"names":["React","useState","Router","Send_Post_RestAPI","setCookie","LoginComponent","Component","constructor","props","state","username","password","handleChange","bind","handleSubmit","event","setState","target","name","value","preventDefault","console","log","res","data","json","UserName","Pass","User_ID","length","replace","push","render"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Router from 'next/router';\nimport {Send_Post_RestAPI} from '../../Request/imw_request';\nimport {setCookie} from '../../Cookies/Cookies'\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: \"\", password: \"\"};\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n   handleChange(event) {\n    this.setState({\n        [event.target.name]: event.target.value,\n      });\n}\n\n  async handleSubmit(event) {\n    event.preventDefault();\n     let {username} = this.state;\n     console.log(username)\n     let res = await Send_Post_RestAPI('http://localhost:3001/login',username)\n     let data = await res.json();\n     console.log(data)\n      let {UserName,Pass,User_ID} = data[0];\n      console.log(UserName) \n      console.log(Pass)\n      console.log(typeof this.state.username);\n      console.log(typeof UserName);\n      console.log(typeof Pass);\n      console.log(UserName.length)\n      console.log(this.state.username.length)\n     if( this.state.username === UserName.replace(/\\s/g,'') && this.state.password === Pass.replace(/\\s/g,'')){\n      setCookie(\"thanh\",\"expires=Thu\",\"01 Jan 1970 00:00:00 UTC\")\n       Router.push('/')\n     }else{\n       Router.push('/login')\n     }\n  }\n  render() {\n    return (\n      <div className=\"limiter\">\n      <div className=\"container-login100 page-background\">\n        <div className=\"wrap-login100\">\n          <form className=\"login100-form validate-form\" onSubmit={this.handleSubmit}>\n            <span className=\"login100-form-logo\">\n              <img alt=\"\" src=\"../assets/img/logo-2.png\" />\n            </span>\n            <span className=\"login100-form-title p-b-34 p-t-27\">\n              Log in\n            </span>\n            <div className=\"wrap-input100 validate-input\" data-validate=\"Enter username\">\n              <input className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Username\" value={this.state.username}\n              onChange={this.handleChange} />\n              <span className=\"focus-input100\" data-placeholder=\"\" />\n            </div>\n            <div className=\"wrap-input100 validate-input\" data-validate=\"Enter password\" >\n              <input className=\"input100\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password}\n              onChange={this.handleChange} />\n              <span className=\"focus-input100\" data-placeholder=\"\" />\n            </div>\n            <div className=\"contact100-form-checkbox\">\n              <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n              <label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n                Remember me\n              </label>\n            </div>\n            <div className=\"container-login100-form-btn\">\n              <button className=\"login100-form-btn\" >\n                Login\n              </button>\n            </div>\n            <div className=\"text-center p-t-30\">\n              <a className=\"txt1\" href=\"forgot_password.html\">\n                Forgot Password?\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    )\n  }\n}\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}