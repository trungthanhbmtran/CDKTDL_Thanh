{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport { Send_Post_RestAPI } from '../../Request/imw_request';\nimport { setCookie } from '../../Cookies/Cookies';\nconst ThemeContext = React.createContext('light');\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let input = {\n      \"username\": this.state.username,\n      \"password\": this.state.password\n    };\n    let res = await Send_Post_RestAPI('http://localhost:3002/logintest', input);\n    let data = await res.json();\n    console.log(data.token);\n\n    if (data.token === undefined || data.token === null) {\n      alert('Error');\n      Router.push('/login');\n    } else {\n      document.cookie = `name=${data.token}; path=/`;\n      alert(`login success with ${this.state.username} `);\n      Router.push('/');\n    } //console.log(data)\n    // let {UserName,Pass,User_ID} = data[0];\n\n    /*\n    console.log(UserName) \n      console.log(Pass)\n      console.log(typeof this.state.username);\n      console.log(typeof UserName);\n      console.log(typeof Pass);\n      console.log(UserName.length)\n      console.log(this.state.username.length)\n    */\n\n    /*if( this.state.username === UserName.replace(/\\s/g,'') && this.state.password === Pass.replace(/\\s/g,'')){\n     setCookie(`${this.state.username}`,\"expires=Thu\",\"01 Jan 1970 00:00:00 UTC\")\n      Router.push('/')\n    }else{\n      Router.push('/login')\n    }*/\n\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"limiter\"\n    }, __jsx(\"div\", {\n      className: \"container-login100 page-background\"\n    }, __jsx(\"div\", {\n      className: \"wrap-login100\"\n    }, __jsx(\"form\", {\n      name: \"submitlogin\",\n      className: \"login100-form validate-form\",\n      method: \"POST\",\n      action: \"/login\"\n    }, __jsx(\"span\", {\n      className: \"login100-form-logo\"\n    }, __jsx(\"img\", {\n      alt: \"\",\n      src: \"../assets/img/logo-2.png\"\n    })), __jsx(\"span\", {\n      className: \"login100-form-title p-b-34 p-t-27\"\n    }, \"Log in\"), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter username\"\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"text\",\n      id: \"username\",\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF207\"\n    })), __jsx(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Enter password\"\n    }, __jsx(\"input\", {\n      className: \"input100\",\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true\n    }), __jsx(\"span\", {\n      className: \"focus-input100\",\n      \"data-placeholder\": \"\\uF191\"\n    })), __jsx(\"div\", {\n      className: \"contact100-form-checkbox\"\n    }, __jsx(\"input\", {\n      className: \"input-checkbox100\",\n      id: \"ckb1\",\n      type: \"checkbox\",\n      name: \"remember-me\"\n    }), __jsx(\"label\", {\n      className: \"label-checkbox100\",\n      htmlFor: \"ckb1\"\n    }, \"Remember me\")), __jsx(\"div\", {\n      className: \"container-login100-form-btn\"\n    }, __jsx(\"button\", {\n      className: \"login100-form-btn\"\n    }, \"Login\"), __jsx(\"a\", {\n      className: \"login100-form-btn\",\n      href: \"/auth/google\"\n    }, \"Google\"), __jsx(\"a\", {\n      className: \"login100-form-btn\",\n      href: \"/auth/facebook\"\n    }, \"Facebook\")), __jsx(\"div\", {\n      className: \"text-center p-t-30\"\n    }, __jsx(\"a\", {\n      className: \"txt1\",\n      href: \"forgot_password.html\"\n    }, \"Forgot Password?\"))))));\n  }\n\n}\n\nexport default LoginComponent;","map":null,"metadata":{},"sourceType":"module"}